---
title: "5.0.1"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(ggplot2)
library(tidytext)
library(textdata)
```

```{r}
# https://edav.info/bar.html
df <- read_csv("./resources/data_combined_filtered_sentiment.csv")
df2 <- df %>% filter(group != "newsmedia")
```
```{r}
df2$created_at <- as.Date(df2$created_at)
# df2$date_group <-
# q1 = c
df2$yearqtr <- paste(
  format(df2$created_at, "%Y"),
  sprintf("%01i", (as.POSIXlt(df2$created_at)$mon) %/% 3L + 1L), 
  sep = " Q")
df_qtr <- df2 %>% group_by(yearqtr) %>% count(group)
ggplot(data=df_qtr, aes(x=yearqtr, y=n, fill=group)) + 
  geom_bar(position = "dodge", stat = "identity") + 
  ggtitle("The number of tweets for different groups") + 
  labs(x = "Year Quarter", y = "# of tweets")
```


