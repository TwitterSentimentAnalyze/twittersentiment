<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Missing values | Twitter Sentiment Analysis</title>
  <meta name="description" content="Chapter 4 Missing values | Twitter Sentiment Analysis" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Missing values | Twitter Sentiment Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Missing values | Twitter Sentiment Analysis" />
  
  
  

<meta name="author" content="Sung Jun Won(sw3049), Elin Kim(hk3175), Alex Kita(ak4729)" />


<meta name="date" content="2021-11-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transformation.html"/>
<link rel="next" href="results.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">TS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Twitter Sentiment Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="missing-values" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Missing values</h1>
<p>We collected 200 most recent tweets from top 50 users and chose the tweets that have at least one of the tags in them.</p>
<p>Get the tweet data from the csv file</p>
<p>We define the function that cleans the tweet data</p>
<p>Reference: <a href="https://stackoverflow.com/questions/31348453/how-do-i-clean-twitter-data-in-r" class="uri">https://stackoverflow.com/questions/31348453/how-do-i-clean-twitter-data-in-r</a></p>
<p>Clean the tweet data and extract the tweets that contains COVID related tags</p>
<p>After filtering, there are total of 403 rows (tweets)</p>
<pre><code>## [1] 403</code></pre>
<p>Then we checked how many missing values each column has.</p>
<pre><code>## # A tibble: 1 × 91
##   user_id status_id created_at screen_name  text source display_text_width
##     &lt;int&gt;     &lt;int&gt;      &lt;int&gt;       &lt;int&gt; &lt;int&gt;  &lt;int&gt;              &lt;int&gt;
## 1       0         0          0           0     0      0                  0
## # … with 84 more variables: reply_to_status_id &lt;int&gt;, reply_to_user_id &lt;int&gt;,
## #   reply_to_screen_name &lt;int&gt;, is_quote &lt;int&gt;, is_retweet &lt;int&gt;,
## #   favorite_count &lt;int&gt;, retweet_count &lt;int&gt;, quote_count &lt;int&gt;,
## #   reply_count &lt;int&gt;, hashtags &lt;int&gt;, symbols &lt;int&gt;, urls_url &lt;int&gt;,
## #   urls_t.co &lt;int&gt;, urls_expanded_url &lt;int&gt;, media_url &lt;int&gt;,
## #   media_t.co &lt;int&gt;, media_expanded_url &lt;int&gt;, media_type &lt;int&gt;,
## #   ext_media_url &lt;int&gt;, ext_media_t.co &lt;int&gt;, ext_media_expanded_url &lt;int&gt;, …</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-15-1.png" width="960" /><img src="finalproj_files/figure-html/unnamed-chunk-15-2.png" width="960" /></p>
<p>It is hard to draw any significant conclusion from columns that have more than 95% of entries with missing values.
Thus, we decided to remove all columns that have NA in more than 95% of entries.</p>
<pre><code>## # A tibble: 403 × 48
##      user_id status_id created_at          screen_name text              source 
##        &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;chr&gt;       &lt;chr&gt;             &lt;chr&gt;  
##  1   2883841   1.46e18 2021-11-17 19:17:35 enews       &quot;#DWTS judge Der… Social…
##  2   2883841   1.46e18 2021-11-16 21:58:32 enews       &quot;9-1-1 Star Rock… Social…
##  3   2883841   1.46e18 2021-11-16 17:48:51 enews       &quot;Dancing With th… Social…
##  4   2883841   1.46e18 2021-11-16 15:24:06 enews       &quot;Miles Teller Se… Social…
##  5 138203134   1.46e18 2021-11-04 15:57:56 AOC         &quot;You can see thi… Twitte…
##  6 138203134   1.45e18 2021-10-15 04:18:53 AOC         &quot;And by the way,… Twitte…
##  7 138203134   1.45e18 2021-10-14 14:57:46 AOC         &quot;#Striketober co… Twitte…
##  8 138203134   1.45e18 2021-10-13 22:40:09 AOC         &quot;Thank you all f… Twitte…
##  9   2097571   1.46e18 2021-11-18 20:46:03 cnni        &quot;Richard Ayvazya… Social…
## 10   2097571   1.46e18 2021-11-18 19:45:06 cnni        &quot;Winter is almos… Social…
## # … with 393 more rows, and 42 more variables: display_text_width &lt;dbl&gt;,
## #   reply_to_user_id &lt;dbl&gt;, reply_to_screen_name &lt;chr&gt;, is_quote &lt;lgl&gt;,
## #   is_retweet &lt;lgl&gt;, favorite_count &lt;dbl&gt;, retweet_count &lt;dbl&gt;, lang &lt;chr&gt;,
## #   retweet_status_id &lt;dbl&gt;, retweet_text &lt;chr&gt;, retweet_created_at &lt;dttm&gt;,
## #   retweet_source &lt;chr&gt;, retweet_favorite_count &lt;dbl&gt;,
## #   retweet_retweet_count &lt;dbl&gt;, retweet_user_id &lt;dbl&gt;,
## #   retweet_screen_name &lt;chr&gt;, retweet_name &lt;chr&gt;, …</code></pre>
<pre><code>## # A tibble: 1 × 48
##   user_id status_id created_at screen_name  text source display_text_width
##     &lt;int&gt;     &lt;int&gt;      &lt;int&gt;       &lt;int&gt; &lt;int&gt;  &lt;int&gt;              &lt;int&gt;
## 1       0         0          0           0     0      0                  0
## # … with 41 more variables: reply_to_user_id &lt;int&gt;, reply_to_screen_name &lt;int&gt;,
## #   is_quote &lt;int&gt;, is_retweet &lt;int&gt;, favorite_count &lt;int&gt;,
## #   retweet_count &lt;int&gt;, lang &lt;int&gt;, retweet_status_id &lt;int&gt;,
## #   retweet_text &lt;int&gt;, retweet_created_at &lt;int&gt;, retweet_source &lt;int&gt;,
## #   retweet_favorite_count &lt;int&gt;, retweet_retweet_count &lt;int&gt;,
## #   retweet_user_id &lt;int&gt;, retweet_screen_name &lt;int&gt;, retweet_name &lt;int&gt;,
## #   retweet_followers_count &lt;int&gt;, retweet_friends_count &lt;int&gt;, …</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-18-1.png" width="960" /><img src="finalproj_files/figure-html/unnamed-chunk-18-2.png" width="960" /></p>
<p>We can observe that columns [retweet_status_id, retweet_text, retweet_created_at, retweet_source, retweet_favorite_count, retweet_retweet_count, retweet_user_id, retweet_screen_name, retweet_name, retweet_followers_count, retweet_friends_count, retweet_statuses_count, retweet_verified] all have 365 missing values, meaning they all have correlations to each other. They have equal number of missing values and there are 365 out of 405 tweets that have those column values missing, so we can assume that most twitter users don’t retweet the tweets regarding COVID.
Also, columns [reply_to_user_id, reply_to_screen_name] have 384 values missing. These two columns are correlated to each other. Having 384 out of 405 entries missing indicates that most of the tweets regarding COVID are original posts, not replies to other posts.
Column location has 78 missing values, which is approximately 25% of the 405 total entries. It seems that majority of the tweets regarding COVID have locations indicated, but it is at users’ discretion. Moreover, column profile_background_url has 48 missing values, which is approximately 12% of 405. The low proportion of missing values indicates that most users have profile background url posted, but it is also up to users’ choice.</p>
<p>There are still many columns that are not very significant for our final project’s purpose, even some columns that have no missing values. Thus, we trimmed down the number of columns further.
Columns such as [source, display_text_width, reply_to_user_id, reply_to_screen_name, is_quote, is_retweet, retweet_status_id, retweet_text, retweet_created_at, retweet_source, retweet_favorite_count, retweet_retweet_count, retweet_user_id, retweet_screen_name, retweet_name, retweet_followers_count, retweet_friends_count, retweet_statuses_count, retweet_location, retweet_description, retweet_verified, status_url, url, protected, profile_url, profile_expanded_url, profile_banner_url, profile_background_url, profile_image_url, output] are all irrelevant or very insignificant in telling user’s activity and tweets regarding COVID, which is what we are mainly concerned with. Thus, we removed all those columns for the sake of simplicity and cleanliness.</p>
<pre><code>## # A tibble: 403 × 18
##      user_id status_id created_at          screen_name text       favorite_count
##        &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;chr&gt;       &lt;chr&gt;               &lt;dbl&gt;
##  1   2883841   1.46e18 2021-11-17 19:17:35 enews       &quot;#DWTS ju…             46
##  2   2883841   1.46e18 2021-11-16 21:58:32 enews       &quot;9-1-1 St…             82
##  3   2883841   1.46e18 2021-11-16 17:48:51 enews       &quot;Dancing …             73
##  4   2883841   1.46e18 2021-11-16 15:24:06 enews       &quot;Miles Te…             82
##  5 138203134   1.46e18 2021-11-04 15:57:56 AOC         &quot;You can …           2123
##  6 138203134   1.45e18 2021-10-15 04:18:53 AOC         &quot;And by t…          18504
##  7 138203134   1.45e18 2021-10-14 14:57:46 AOC         &quot;#Striket…          14418
##  8 138203134   1.45e18 2021-10-13 22:40:09 AOC         &quot;Thank yo…          83780
##  9   2097571   1.46e18 2021-11-18 20:46:03 cnni        &quot;Richard …             33
## 10   2097571   1.46e18 2021-11-18 19:45:06 cnni        &quot;Winter i…             63
## # … with 393 more rows, and 12 more variables: retweet_count &lt;dbl&gt;, lang &lt;chr&gt;,
## #   name &lt;chr&gt;, location &lt;chr&gt;, description &lt;chr&gt;, followers_count &lt;dbl&gt;,
## #   friends_count &lt;dbl&gt;, listed_count &lt;dbl&gt;, statuses_count &lt;dbl&gt;,
## #   favourites_count &lt;dbl&gt;, account_created_at &lt;dttm&gt;, verified &lt;lgl&gt;</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-20-1.png" width="960" /><img src="finalproj_files/figure-html/unnamed-chunk-20-2.png" width="960" /></p>
<p>We can see that out of 18 columns, only ‘location’ column has some missing values remaining. We would have to impute the missing values or make a separate column for missing value indicator if we deem this column to be important for our future analysis. We used 200 tweets of top 50 users for creating this dataset, so the size of the dataset is small compared to what we will have for the final version of our project. When we use more tweets on more users, we may potentially have some more important observations.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-transformation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/twittersentimentanalyze/twittersentiment/edit/main/04-missing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/twittersentimentanalyze/twittersentiment/blob/main/04-missing.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
